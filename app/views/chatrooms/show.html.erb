<%= render 'shared/index_banner', text: "Documentation", class: "d-flex justify-content-center" %>

<div class="container">
  <h1 class="chat-title"><%= @chatroom.name %></h1>
  <div class="chat-container mb-3">
    <div id="messages" data-chatroom-id="<%= @chatroom.id %>">
      <% @chatroom.messages.each do |message| %>
      <div class="chat-bubble">
        <div class="message-container" id="message-<%= message.id %>">
          <i class="author">
            <span><%= message.user.nickname %></span>
            <small><%= message.created_at.strftime("%a %b %e at %l:%M%p") %></small>
          </i>
          <p><%= message.content %></p>
        </div>
      </div>
      <% end %>
    </div>
  </div>
  <%= simple_form_for [ @chatroom, @message ], remote: true do |f| %>
      <%= f.input :content, label: false %>
      <%= button_tag(type: 'submit', class: "chat-button") do %>
        <i class="far fa-paper-plane"></i>
      <% end %>
    <% end %>
</div>